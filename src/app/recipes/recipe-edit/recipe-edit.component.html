<form [formGroup]="recipeForm">
    <div class="row">
        <div class="col-12">
            <div class="col-12 btn-group">
                <button class="btn btn-success" type="submit" [disabled]="!recipeForm.valid" (click)="updateRecipe()"
                    *ngIf="!editMode">Save</button>
                <button class="btn btn-success" type="submit" [disabled]="!recipeForm.valid" *ngIf="editMode"
                    (click)="updateRecipe()">Update</button>
                <button class="btn btn-danger" *ngIf="!editMode">Delete</button>
                <button class="btn btn-primary" *ngIf="!editMode">Clear</button>
                <button class="btn btn-primary" *ngIf="editMode" routerLink="../">Cancel</button>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-12">
            <p><small><strong>Image Url:</strong></small></p>
            <input type="text" class="form-control" formControlName="image" #imageUrl>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <img [src]="imageUrl.value" alt="image" class="img-fluid">
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p><small><strong>Name:</strong></small></p>
            <input type="text" class="h1 form-control" formControlName="name">
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p><small><strong>description:</strong></small></p>
            <textarea class="form-control" formControlName="description"></textarea>
        </div>
    </div>
    <br>
    <div class="row" formArrayName="ingredients">
        <div class="col-12">
            <p><strong>Ingredients:</strong></p>
            <ul class="list-group">
                <a class=" p-2" style="cursor: pointer;" *ngFor="let item of ingredients.controls; let i = index"
                    [formGroupName]="i">
                    <div class="row">
                        <div class="col-6 form-group">
                            <input type="text" id="name" class="form-control" formControlName="name" #nameInput>
                        </div>
                        <div class="col-4 form-group">
                            <input type="number" id="amount" class="form-control" formControlName="amount" #amountInput>
                        </div>
                        <div class="col-2">
                            <button type="button" class="btn-danger close" aria-label="Close" (click)="remove(i)">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    </div>
                </a>
                <div class="row">
                    <div class="col-5 d-flex align-items-center">
                        <div class="col-4 btn-group" style="transform: translateY(.4em);">
                            <button class="btn btn-success" type="submit" (click)="addItem()">add</button>
                            <button class="btn btn-danger">clear</button>
                        </div>
                    </div>
                </div>
            </ul>
        </div>
    </div>
</form>